(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{241:function(t,r,n){"use strict";var e;n.d(r,"a",(function(){return e})),function(t){t.Party="party",t.Status="status",t.Keyword="keyword",t.Topic="topic"}(e||(e={}))},266:function(t,r,n){var e=n(3);t.exports=e(1..valueOf)},268:function(t,r,n){"use strict";n.r(r),n.d(r,"groupPromisesBy",(function(){return m}));var e=n(22),o=n(291),l=(n(13),n(103),n(281),n(49),n(184),n(32),n(48),n(267),n(282),n(241)),c=n(239),f=[c.a.NoData,c.a.Proposed,c.a.Paused,c.a.Working,c.a.Done],d=[c.b.Equality,c.b.Security,c.b.Foreign,c.b.Administration,c.b.Culture,c.b.Economics,c.b.Environmental],v=function(t){return t?f.reduce((function(r,n){return n in t?[].concat(Object(o.a)(r),[{status:n,count:t[n]}]):r}),[]):[]},m=function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7,m=r.reduce((function(r,n){var e=n[t];return e in r?r[e].count++:r[e]={isNCPO:!1,count:1,statuses:{}},n.status in r[e].statuses?r[e].statuses[n.status]++:r[e].statuses[n.status]=1,!0===n.isNCPO&&(r[e].isNCPO=!0),r}),{}),y=t===l.a.Party?Object.entries(m).map((function(t){var r=Object(e.a)(t,2),label=r[0],n=r[1];return{label:label,icon:"party/".concat(label,".jpg"),isNCPO:n.isNCPO,data:v(n.statuses)}})).sort((function(a,t){return m[t.label].count-m[a.label].count})):t===l.a.Topic?d.map((function(t){var r,n;return{label:null===(r=c.d.get(t))||void 0===r?void 0:r.short,icon:"topic/".concat(t,"_small.png"),data:v(null===(n=m[t])||void 0===n?void 0:n.statuses)}})):f.map((function(t){var r;return{label:c.c.get(t),icon:"status/".concat(t,"_small.png"),data:v(null===(r=m[t])||void 0===r?void 0:r.statuses)}}));if(y.length>n){var h=y.slice(n);y=[].concat(Object(o.a)(y.slice(0,n)),[{label:"อื่นๆ",icon:"other-group.png",data:f.map((function(t){return{status:t,count:h.reduce((function(r,n){var e;return r+((null===(e=n.data.find((function(r){return r.status===t})))||void 0===e?void 0:e.count)||0)}),0)}})).filter((function(t){return t.count>0}))}])}var P=Object.values(m).map((function(t){return t.count}));return{max:Math.max.apply(Math,Object(o.a)(P)),total:P.reduce((function(t,r){return t+r}),0),charts:y}}},290:function(t,r,n){"use strict";n.r(r);n(49),n(13),n(302);var e=n(2),o=n(239),l=e.a.extend({name:"PartyCard",props:{partyLogo:{type:String,default:"",required:!1},partyName:{type:String,default:""},partyPromises:{type:Array,default:function(){return[]}},buttonUrl:{type:String,default:""}},data:function(){return{bgColor:["nodata","proposed","paused","working","done"]}},computed:{sumPartyPromises:function(){var t=this.partyPromises.map((function(a){return a.count}));return t.length>0?t.reduce((function(a,b){return a+b})):0},promises:function(){var t=this,r=this.partyPromises;return r.length>0?r.map((function(a){return{status:a.status,countPercentage:(a.count/t.sumPartyPromises*100).toFixed(2)}})):[{status:o.a.NoData,countPercentage:"100"}]}}}),c=n(16),component=Object(c.a)(l,(function(){var t=this,r=t.$createElement,n=t._self._c||r;return n("div",{staticClass:"flex bg-white w-full px-4 py-3 rounded-sm flex-row gap-3 text-black"},[n("div",[t.partyLogo?n("img",{staticClass:"w-10 h-10 md:w-9 md:h-9 rounded-full shadow",attrs:{src:t.$config.path.images+"/"+t.partyLogo,alt:t.partyName}}):n("img",{staticClass:"w-10 h-10 md:w-9 md:h-9 rounded-full shadow",attrs:{src:t.$config.path.images+"/party/dummy.jpg",alt:"Dummy Party Logo"}})]),t._v(" "),n("div",{staticClass:"flex flex-col md:flex-row items-start md:items-center gap-3 w-full"},[n("div",{staticClass:"w-full"},[n("div",{staticClass:"h11 wv-font-black"},[t._v(t._s(t.partyName))]),t._v(" "),n("div",[n("span",{staticClass:"promise-sum"},[t._v(t._s(t.sumPartyPromises))]),t._v(" "),n("span",[t._v(" คำสัญญา")])])]),t._v(" "),n("div",{staticClass:"w-full"},[n("span",{staticClass:"flex h-4 overflow-hidden"},t._l(t.promises,(function(r,i){return n("span",{key:i,class:"bg-status-"+t.bgColor[i],style:"width:"+r.countPercentage+"%;",attrs:{title:r.status}})})),0)]),t._v(" "),n("div",[n("NuxtLink",{attrs:{to:t.buttonUrl}},[n("Button",{staticClass:"h-10 w-full sm:w-max",attrs:{theme:"primary-blue"}},[n("span",[t._v("ดูคำสัญญา")]),t._v(" "),n("svg",{attrs:{width:"12",height:"12",viewBox:"0 0 12 12",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M-2.26862e-07 6.74994L-2.92429e-07 5.24994L9 5.24994L4.875 1.12494L5.94 0.0599401L11.88 5.99994L5.94 11.9399L4.875 10.8749L9 6.74994L-2.26862e-07 6.74994Z"}})])])],1)],1)])])}),[],!1,null,null,null);r.default=component.exports;installComponents(component,{Button:n(101).default})},302:function(t,r,n){"use strict";var e=n(6),o=n(1),l=n(3),c=n(51),f=n(266),d=n(187),v=n(4),m=o.RangeError,y=o.String,h=Math.floor,P=l(d),w=l("".slice),C=l(1..toFixed),x=function(t,r,n){return 0===r?n:r%2==1?x(t,r-1,n*t):x(t*t,r/2,n)},_=function(data,t,r){for(var n=-1,e=r;++n<6;)e+=t*data[n],data[n]=e%1e7,e=h(e/1e7)},N=function(data,t){for(var r=6,n=0;--r>=0;)n+=data[r],data[r]=h(n/t),n=n%t*1e7},O=function(data){for(var t=6,s="";--t>=0;)if(""!==s||0===t||0!==data[t]){var r=y(data[t]);s=""===s?r:s+P("0",7-r.length)+r}return s};e({target:"Number",proto:!0,forced:v((function(){return"0.000"!==C(8e-5,3)||"1"!==C(.9,0)||"1.25"!==C(1.255,2)||"1000000000000000128"!==C(0xde0b6b3a7640080,0)}))||!v((function(){C({})}))},{toFixed:function(t){var r,n,e,o,l=f(this),d=c(t),data=[0,0,0,0,0,0],v="",h="0";if(d<0||d>20)throw m("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return y(l);if(l<0&&(v="-",l=-l),l>1e-21)if(n=(r=function(t){for(var r=0,n=t;n>=4096;)r+=12,n/=4096;for(;n>=2;)r+=1,n/=2;return r}(l*x(2,69,1))-69)<0?l*x(2,-r,1):l/x(2,r,1),n*=4503599627370496,(r=52-r)>0){for(_(data,0,n),e=d;e>=7;)_(data,1e7,0),e-=7;for(_(data,x(10,e,1),0),e=r-1;e>=23;)N(data,1<<23),e-=23;N(data,1<<e),_(data,1,1),N(data,2),h=O(data)}else _(data,0,n),_(data,1<<-r,0),h=O(data)+P("0",d);return h=d>0?v+((o=h.length)<=d?"0."+P("0",d-o)+h:w(h,0,o-d)+"."+w(h,o-d)):v+h}})},309:function(t,r,n){"use strict";n.r(r);n(48),n(13);var e=n(290),o=n(265),l=n(268),c=n(303),filter=n(241),f={name:"IndexPage",components:{PartyCard:e.default,StatusLegend:o.default},data:function(){return{promises:c}},computed:{NCPOParty:function(){return Object(l.groupPromisesBy)(filter.a.Party,this.promises,50).charts.filter((function(t){return!0===t.isNCPO}))},nonNCPOParty:function(){return Object(l.groupPromisesBy)(filter.a.Party,this.promises,50).charts.filter((function(t){return!1===t.isNCPO}))}}},d=n(16),component=Object(d.a)(f,(function(){var t=this,r=t.$createElement,n=t._self._c||r;return n("div",{staticClass:"grid grid-cols-6 gap-4 p-4 sm:p-6 max-w-4xl bg-gray bg-opacity-10 rounded-xl"},[n("div",{staticClass:"col-span-6 sm:col-span-2"},[n("h5",{staticClass:"wv-h5 font-kondolar wv-font-bold"},[t._v("สำรวจคำสัญญา")]),t._v(" "),n("h5",{staticClass:"wv-h5 font-kondolar wv-font-bold pb-6"},[t._v("ตามพรรค")]),t._v(" "),n("StatusLegend",{staticClass:"text-white",attrs:{showDetail:!1}})],1),t._v(" "),n("div",{staticClass:"col-span-6 sm:col-span-4"},[n("div",{staticClass:"flex flex-col gap-4"},[n("span",{staticClass:"wv-h8 wv-font-kondolar wv-font-bold"},[t._v("\n        ฝ่ายรัฐบาล "+t._s(t.NCPOParty.length)+" พรรค\n      ")]),t._v(" "),n("div",{staticClass:"flex flex-col gap-1"},t._l(t.NCPOParty,(function(t){var label=t.label,r=t.icon,data=t.data;return n("PartyCard",{key:label,attrs:{partyLogo:r,partyName:label,partyPromises:data,buttonUrl:"explore"}})})),1),t._v(" "),n("span",{staticClass:"wv-h8 wv-font-kondolar wv-font-bold"},[t._v("\n        ฝ่ายค้าน "+t._s(t.nonNCPOParty.length)+" พรรค\n      ")]),t._v(" "),n("div",{staticClass:"flex flex-col gap-1"},t._l(t.nonNCPOParty,(function(t){var label=t.label,r=t.icon,data=t.data;return n("PartyCard",{key:label,attrs:{partyLogo:r,partyName:label,partyPromises:data,buttonUrl:"explore"}})})),1)])])])}),[],!1,null,null,null);r.default=component.exports;installComponents(component,{PartyCard:n(290).default})}}]);